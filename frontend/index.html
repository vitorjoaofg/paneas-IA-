<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Paneas AI Studio</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        .streaming-text .word {
            display: inline-block;
            margin: 0 0.15rem;
            transition: all 0.3s ease;
            opacity: 0.3;
        }
        .streaming-text .word.highlight {
            opacity: 1;
            color: #4f46e5;
            transform: scale(1.05);
            text-shadow: 0 0 10px rgba(79, 70, 229, 0.3);
            animation: word-glow 0.5s ease-in-out;
        }
        .streaming-text .word.spoken {
            opacity: 1;
        }
        @keyframes word-glow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }
    </style>
</head>
<body>
    <!-- Modal de Senha -->
    <div id="passwordModal" class="modal">
        <div class="modal__content">
            <h2>Acesso Restrito</h2>
            <p>Digite a senha para acessar o Paneas AI Studio</p>
            <form id="passwordForm">
                <input type="password" id="passwordInput" placeholder="Digite a senha" autocomplete="off" />
                <button type="submit" class="btn btn--primary">Entrar</button>
                <p id="passwordError" class="modal__error" style="display: none;">Senha incorreta!</p>
            </form>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header__content">
            <h1 class="header__title">Paneas AI Studio</h1>
            <p class="header__subtitle">Transcrição • Diarização • OCR • Chat</p>
        </div>
        <div class="header__status">
            <span class="status-dot"></span>
            <span id="sessionStatus">Pronto</span>
        </div>
    </header>

    <!-- Tabs Navigation -->
    <nav class="tabs">
        <button class="tab tab--active" data-tab="realtime">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <line x1="12" x2="12" y1="19" y2="22"/>
            </svg>
            Real-time
        </button>
        <button class="tab" data-tab="transcription">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18V5l12-2v13"/>
                <circle cx="6" cy="18" r="3"/>
                <circle cx="18" cy="16" r="3"/>
            </svg>
            Transcrição
        </button>
        <button class="tab" data-tab="ocr">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/>
                <circle cx="9" cy="9" r="2"/>
                <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
            </svg>
            OCR
        </button>
        <button class="tab" data-tab="scrapper">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="7"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            </svg>
            Processos
        </button>
        <button class="tab" data-tab="chat">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            Chat
        </button>
        <button class="tab" data-tab="tts">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
            </svg>
            TTS
        </button>
    </nav>

    <!-- Tab Content -->
    <main class="content">
        <!-- Real-time Tab -->
        <section class="tab-content tab-content--active" data-content="realtime">
            <!-- Controls -->
            <div class="card">
                <h2 class="card__title">Configuração</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="apiBase">API Base URL</label>
                        <input id="apiBase" type="text" placeholder="Auto-detectado" />
                    </div>
                    <div class="form-group">
                        <label for="authToken">Bearer Token</label>
                        <input id="authToken" type="text" value="token_abc123" autocomplete="off" />
                    </div>
                    <!-- COMMENTED: Room ID - pode ser adicionado de volta depois
                    <div class="form-group">
                        <label for="roomId">Room ID</label>
                        <input id="roomId" type="text" placeholder="Opcional" />
                    </div>
                    -->
                    <!-- COMMENTED: Papel selector - pode ser adicionado de volta depois
                    <div class="form-group">
                        <label for="roleSelector">Papel</label>
                        <select id="roleSelector">
                            <option value="">Solo</option>
                            <option value="agent">Atendente</option>
                            <option value="client">Cliente</option>
                        </select>
                    </div>
                    -->
                    <div class="form-group">
                        <label for="chunkSize">Chunk (ms)</label>
                        <input id="chunkSize" type="number" min="200" max="2000" step="100" value="800" />
                    </div>
                    <!-- COMMENTED: Diarização checkbox - pode ser adicionado de volta depois
                    <div class="form-group form-group--checkbox">
                        <input id="diarizationToggle" type="checkbox" />
                        <label for="diarizationToggle">Diarização</label>
                    </div>
                    -->
                    <div class="form-group form-group--checkbox">
                        <input id="insightToggle" type="checkbox" checked />
                        <label for="insightToggle">Insights</label>
                    </div>
                    <div class="form-group">
                        <label for="insightModel">Modelo Insights</label>
                        <input id="insightModel" type="text" value="paneas-q32b" />
                    </div>
                </div>
            </div>

            <!-- Audio Source Selection -->
            <div class="card">
                <h2 class="card__title">Captura de Áudio</h2>
                <p class="card__description">Inicie a captura de áudio em tempo real do microfone</p>

                <!-- Microphone Capture -->
                <div class="button-group">
                        <button id="startButton" class="btn btn--primary btn--lg">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <circle cx="12" cy="12" r="10"/>
                                <polygon points="10 8 16 12 10 16 10 8"/>
                            </svg>
                            Iniciar Captura
                        </button>
                        <button id="stopButton" class="btn btn--danger btn--lg" disabled>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <rect x="6" y="6" width="12" height="12" rx="2"/>
                            </svg>
                            Parar
                        </button>
                        <div id="listeningIndicator" class="listening-indicator hidden">
                            <span class="pulse-dot"></span>
                            <span>Escutando...</span>
                        </div>
                    </div>

                <!-- COMMENTED: File Simulation - pode ser adicionado de volta depois
                <div class="audio-source-section">
                    <h3 class="source-title">Simular Captura com Áudio</h3>
                    <p class="source-description">Simule transcrição ao vivo usando um arquivo de áudio</p>
                    <div class="upload-area upload-area--compact">
                        <input type="file" id="streamFileInput" accept="audio/*" />
                        <div class="upload-placeholder">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 3 19 12 5 21 5 3"/>
                            </svg>
                            <p>Selecione um arquivo de áudio</p>
                            <span class="file-name" id="streamFileName"></span>
                        </div>
                    </div>
                    <button class="btn btn--accent btn--lg btn--block" id="streamFileButton">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="5 3 19 12 5 21 5 3"/>
                        </svg>
                        Simular Transcrição ao Vivo
                    </button>
                    <div class="status-text" id="streamStatus">Aguardando arquivo...</div>
                </div>
                -->
            </div>

            <!-- Results Grid -->
            <div class="results-grid">
                <!-- Transcript -->
                <div class="card card--tall">
                    <div class="card__header">
                        <h2 class="card__title">Transcrição</h2>
                        <div class="badges">
                            <span class="badge" id="sessionId">Inativa</span>
                            <span class="badge badge--accent" id="roomStatus" style="display: none;"></span>
                        </div>
                    </div>
                    <div class="stats-row">
                        <div class="stat">
                            <span class="stat__value" id="batchCount">0</span>
                            <span class="stat__label">Lotes</span>
                        </div>
                        <div class="stat">
                            <span class="stat__value" id="tokenCount">0</span>
                            <span class="stat__label">Tokens</span>
                        </div>
                        <div class="stat">
                            <span class="stat__value" id="audioSeconds">0</span>
                            <span class="stat__label">Segundos</span>
                        </div>
                    </div>
                    <div class="transcript-box" id="transcriptText">
                        <p class="placeholder">Inicie a captura para ver a transcrição em tempo real...</p>
                    </div>
                    <div class="timeline" id="batchTimeline"></div>
                </div>

                <!-- Insights -->
                <div class="card">
                    <div class="card__header">
                        <h2 class="card__title">Insights</h2>
                        <span class="badge badge--success" id="insightStatus">Ativos</span>
                    </div>
                    <div class="insights-container" id="insightsList">
                        <p class="placeholder">Aguardando insights...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Transcription Tab -->
        <section class="tab-content" data-content="transcription">
            <div class="grid-2">
                <!-- Audio Transcription -->
                <div class="card">
                    <h2 class="card__title">Transcrição de Arquivo</h2>
                    <p class="card__description">Envie um arquivo de áudio (WAV, MP3) para transcrição completa</p>
                    <div class="upload-area">
                        <input type="file" id="asrFileInput" accept="audio/*" />
                        <div class="upload-placeholder">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" x2="12" y1="3" y2="15"/>
                            </svg>
                            <p>Clique ou arraste um arquivo de áudio</p>
                            <span class="file-name" id="asrFileName"></span>
                        </div>
                    </div>
                    <button class="btn btn--primary btn--block" id="asrUploadButton">
                        Transcrever Áudio
                    </button>
                    <div class="result-box" id="asrResult">
                        <p class="placeholder">Aguardando arquivo...</p>
                    </div>
                </div>

                <!-- Diarization -->
                <div class="card">
                    <h2 class="card__title">Diarização</h2>
                    <p class="card__description">Identifique diferentes speakers no áudio</p>
                    <div class="upload-area">
                        <input type="file" id="diarFileInput" accept="audio/*" />
                        <div class="upload-placeholder">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                            </svg>
                            <p>Clique ou arraste um arquivo de áudio</p>
                            <span class="file-name" id="diarFileName"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="numSpeakers">Número de speakers (opcional)</label>
                        <input id="numSpeakers" type="number" min="1" max="10" placeholder="Auto-detectar" />
                    </div>
                    <button class="btn btn--primary btn--block" id="diarButton">
                        Iniciar Diarização
                    </button>
                    <div class="result-box" id="diarResult">
                        <p class="placeholder">Aguardando arquivo...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- OCR Tab -->
        <section class="tab-content" data-content="ocr">
            <div class="card card--centered">
                <h2 class="card__title">Reconhecimento de Texto (OCR)</h2>
                <p class="card__description">Extraia texto de imagens ou documentos PDF</p>
                <div class="upload-area upload-area--large">
                    <input type="file" id="ocrFileInput" accept="image/*,application/pdf" />
                    <div class="upload-placeholder">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/>
                            <circle cx="9" cy="9" r="2"/>
                            <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                        </svg>
                        <p>Clique ou arraste uma imagem ou PDF</p>
                        <span class="file-types">PNG, JPG, JPEG, GIF, PDF</span>
                        <span class="file-name" id="ocrFileName"></span>
                    </div>
                </div>
                <button class="btn btn--primary btn--lg" id="ocrButton">
                    Executar OCR
                </button>
                <div class="result-box result-box--large" id="ocrResult">
                    <p class="placeholder">Aguardando arquivo...</p>
                </div>
            </div>
        </section>

        <!-- Scrapper Tab -->
        <section class="tab-content" data-content="scrapper">
            <div class="card">
                <h2 class="card__title">Consulta de Processo (TJSP)</h2>
                <p class="card__description">Busque um processo específico informando pelo menos um dos parâmetros abaixo.</p>
                <form id="scrapperConsultaForm" class="form-grid">
                    <div class="form-group">
                        <label for="scrapperNumeroProcesso">Número do Processo</label>
                        <input id="scrapperNumeroProcesso" name="numero_processo" type="text" placeholder="1014843-66.2025.8.26.0554" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperNomeParte">Nome da Parte</label>
                        <input id="scrapperNomeParte" name="nome_parte" type="text" placeholder="Ex.: Ana Paula Dentello Luiz" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperDocumentoParte">Documento da Parte</label>
                        <input id="scrapperDocumentoParte" name="documento_parte" type="text" placeholder="CPF ou CNPJ (somente números)" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperNomeAdvogado">Nome do Advogado</label>
                        <input id="scrapperNomeAdvogado" name="nome_advogado" type="text" placeholder="Ex.: João Silva" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperNumeroOab">Número da OAB</label>
                        <input id="scrapperNumeroOab" name="numero_oab" type="text" placeholder="Ex.: 123456/SP" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperNumeroPrecatoria">Número da Carta Precatória</label>
                        <input id="scrapperNumeroPrecatoria" name="numero_precatoria" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperNumeroDelegacia">Nº Documento Delegacia</label>
                        <input id="scrapperNumeroDelegacia" name="numero_documento_delegacia" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperNumeroCda">Número da CDA</label>
                        <input id="scrapperNumeroCda" name="numero_cda" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperForo">Foro</label>
                        <input id="scrapperForo" name="foro" type="text" placeholder="Ex.: 554" />
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn btn--primary" id="scrapperConsultaSubmit">Consultar</button>
                        <button type="button" class="btn btn--ghost" id="scrapperConsultaReset">Limpar</button>
                    </div>
                </form>
                <div class="result-box result-box--large" id="scrapperConsultaResult">
                    <p class="placeholder">Preencha os filtros e clique em &ldquo;Consultar&rdquo;.</p>
                </div>
            </div>

            <div class="card">
                <h2 class="card__title">Listagem de Processos</h2>
                <p class="card__description">Combine filtros para listar processos relacionados a uma parte e aplicar refinamentos.</p>
                <form id="scrapperListForm" class="form-grid">
                    <div class="form-group">
                        <label for="scrapperListNumeroProcesso">Número do Processo</label>
                        <input id="scrapperListNumeroProcesso" name="numero_processo" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListNomeParte">Nome da Parte</label>
                        <input id="scrapperListNomeParte" name="nome_parte" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListDocumentoParte">Documento da Parte</label>
                        <input id="scrapperListDocumentoParte" name="documento_parte" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListNomeAdvogado">Nome do Advogado</label>
                        <input id="scrapperListNomeAdvogado" name="nome_advogado" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListNumeroOab">Número da OAB</label>
                        <input id="scrapperListNumeroOab" name="numero_oab" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListNumeroPrecatoria">Número da Carta Precatória</label>
                        <input id="scrapperListNumeroPrecatoria" name="numero_precatoria" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListNumeroDelegacia">Nº Documento Delegacia</label>
                        <input id="scrapperListNumeroDelegacia" name="numero_documento_delegacia" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListNumeroCda">Número da CDA</label>
                        <input id="scrapperListNumeroCda" name="numero_cda" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListForo">Foro</label>
                        <input id="scrapperListForo" name="foro" type="text" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListContraParte">Filtro de Contraparte</label>
                        <input id="scrapperListContraParte" name="contra_parte" type="text" placeholder="Ex.: Vivo" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListMaxPaginas">Máx. Páginas</label>
                        <input id="scrapperListMaxPaginas" name="max_paginas" type="number" min="1" max="10" value="1" />
                    </div>
                    <div class="form-group">
                        <label for="scrapperListMaxProcessos">Máx. Processos</label>
                        <input id="scrapperListMaxProcessos" name="max_processos" type="number" min="1" />
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn btn--primary" id="scrapperListSubmit">Listar Processos</button>
                        <button type="button" class="btn btn--ghost" id="scrapperListReset">Limpar</button>
                    </div>
                </form>
                <div class="result-box result-box--large" id="scrapperListResult">
                    <p class="placeholder">Informe os filtros desejados e clique em &ldquo;Listar Processos&rdquo;.</p>
                </div>
            </div>

            <div class="card">
                <h2 class="card__title">Manifesto de Ferramentas</h2>
                <p class="card__description">Visualize o manifesto JSON exposto pelo serviço de scrapper.</p>
                <div class="button-group">
                    <button class="btn btn--primary" id="scrapperToolsButton">Carregar manifesto</button>
                </div>
                <div class="result-box" id="scrapperToolsResult">
                    <p class="placeholder">Clique em &ldquo;Carregar manifesto&rdquo; para visualizar.</p>
                </div>
            </div>
        </section>

        <!-- Chat Tab -->
        <section class="tab-content" data-content="chat">
            <div class="card card--chat">
                <div class="chat-header">
                    <h2 class="card__title">Chat com LLM</h2>
                    <div class="chat-controls">
                        <div class="form-group form-group--inline">
                            <label for="chatModel">Modelo:</label>
                            <select id="chatModel">
                                <option value="paneas-q32b">paneas-q32b (Qwen2.5-32B INT4)</option>
                            </select>
                        </div>
                        <div class="form-group form-group--inline">
                            <label class="checkbox-label">
                                <input type="checkbox" id="chatKeepHistory" checked>
                                <span>Manter Histórico</span>
                            </label>
                        </div>
                        <div class="form-group form-group--inline">
                            <label for="chatTools">Tools:</label>
                            <select id="chatTools">
                                <option value="">Nenhuma</option>
                                <option value="unimed">Unimed</option>
                                <option value="weather">Clima</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top: 0.5rem;">
                        <label for="chatSystemPrompt">System Prompt (opcional):</label>
                        <textarea
                            id="chatSystemPrompt"
                            rows="3"
                            placeholder="Ex: Você é um atendente da Unimed Natal. Seja breve e direto..."
                            style="font-size: 0.875rem; resize: vertical;"
                        ></textarea>
                        <small class="text-muted">Se vazio, não envia system message</small>
                    </div>
                </div>
                <div class="chat-messages" id="chatLog">
                    <div class="chat-welcome">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                        <p>Converse com o modelo de linguagem</p>
                    </div>
                </div>
                <form class="chat-input-form" id="chatForm">
                    <textarea id="chatInput" rows="3" placeholder="Digite sua mensagem..."></textarea>
                    <div class="chat-actions">
                        <button type="button" class="btn btn--outline" id="clearChat">Limpar</button>
                        <button type="submit" class="btn btn--primary" id="sendChat">Enviar</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- TTS Tab -->
        <section class="tab-content" data-content="tts">
            <div class="card card--centered">
                <h2 class="card__title">Síntese de Voz (TTS)</h2>
                <p class="card__description">Clone de voz com Paneas-XXTS-v2</p>

                <!-- Voice Selection -->
                <div class="form-group">
                    <label for="ttsVoice">Voz</label>
                    <select id="ttsVoice">
                        <option value="/voices/perola_optimized.wav">Pérola (Feminina)</option>
                        <option value="/voices/Guilherme_optimized.wav">Guilherme (Masculina)</option>
                    </select>
                </div>

                <!-- Text Input -->
                <div class="form-group">
                    <label for="ttsText">Texto para Sintetizar</label>
                    <textarea
                        id="ttsText"
                        rows="6"
                        placeholder="Digite o texto que deseja converter em áudio..."
                        maxlength="500"
                    ></textarea>
                    <small class="text-muted">Máximo 500 caracteres</small>
                </div>

                <!-- Synthesize Buttons -->
                <div class="button-group">
                    <button class="btn btn--primary btn--lg" id="ttsButton">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                        </svg>
                        Sintetizar Áudio
                    </button>
                    <button class="btn btn--accent btn--lg" id="ttsStreamButton">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="2"/>
                            <path d="M16.24 7.76a6 6 0 0 1 0 8.49"/>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                            <path d="M7.76 16.24a6 6 0 0 1 0-8.49"/>
                            <path d="M4.93 19.07a10 10 0 0 1 0-14.14"/>
                        </svg>
                        Modo Streaming
                    </button>
                </div>

                <!-- Result Audio Player -->
                <div id="ttsResult" class="tts-result" style="display: none;">
                    <h3>Áudio Gerado</h3>
                    <audio id="ttsAudioPlayer" controls style="width: 100%; margin-top: 1rem;"></audio>
                    <div class="tts-metadata" id="ttsMetadata"></div>
                    <button class="btn btn--outline btn--sm" id="ttsDownload">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" x2="12" y1="15" y2="3"/>
                        </svg>
                        Baixar Áudio
                    </button>
                </div>

                <!-- Streaming Audio Player -->
                <div id="ttsStreamResult" class="tts-result" style="display: none;">
                    <h3>Streaming de Áudio</h3>
                    <div class="streaming-status">
                        <span class="badge badge--success">
                            <span class="pulse-dot"></span>
                            <span id="streamingStatusText">Streamando...</span>
                        </span>
                    </div>

                    <!-- Texto animado com highlight -->
                    <div class="streaming-text-container" style="
                        display: block !important;
                        background: rgba(79, 70, 229, 0.05);
                        border: 1px solid rgba(79, 70, 229, 0.2);
                        border-radius: 8px;
                        padding: 1.5rem;
                        margin: 1rem 0;
                        min-height: 80px;
                        align-items: center;
                        justify-content: center;
                    ">
                        <div id="streamingText" class="streaming-text" style="
                            display: block !important;
                            font-size: 1.25rem;
                            line-height: 1.8;
                            text-align: center;
                            font-weight: 500;
                        "></div>
                    </div>

                    <audio id="ttsStreamPlayer" controls style="width: 100%; margin-top: 1rem;"></audio>
                    <div class="tts-metadata" id="ttsStreamMetadata"></div>
                    <button class="btn btn--danger btn--sm" id="ttsStreamStop">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="6" width="12" height="12" rx="2"/>
                        </svg>
                        Parar Streaming
                    </button>
                </div>

                <!-- Status Message -->
                <div class="status-text" id="ttsStatus"></div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>Paneas AI Stack — Ambiente Local</p>
        <p id="footerStatus">Pronto para iniciar</p>
    </footer>

    <script type="module" src="app.js"></script>
</body>
</html>
