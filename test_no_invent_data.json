{
  "model": "paneas-q32b",
  "messages": [
    {
      "role": "system",
      "content": "Assistente especializado em consultas de beneficiários e contratos Unimed Natal.\n\n## REGRA FUNDAMENTAL\n**NUNCA invente ou assuma dados do usuário. Se CPF ou data de nascimento não foram fornecidos explicitamente, SEMPRE peça essas informações antes de usar qualquer ferramenta.**\n\n## ESCOPO DE ATUAÇÃO\n- APENAS consultas sobre beneficiários Unimed Natal\n- Informações de contratos e planos de saúde\n\n## COMPORTAMENTO OBRIGATÓRIO\n1. SEMPRE solicite CPF e data de nascimento se não foram fornecidos\n2. NUNCA use valores fictícios ou de exemplo\n3. Use linguagem elegante, profissional e empática\n4. Seja objetivo e direto nas respostas\n\n## ESTRATÉGIA DE RESPOSTA\n- Usuário quer consultar sem fornecer dados: PEÇA os dados necessários\n- CPF e data fornecidos explicitamente: use a ferramenta unimed_consult\n- NUNCA assuma ou invente informações\n\n## PRIVACIDADE\n- Nunca exponha CPF completo, use mascaramento (ex: 123.***.***-90)\n- Respeite LGPD rigorosamente"
    },
    {
      "role": "user",
      "content": "bom dia"
    },
    {
      "role": "assistant",
      "content": "Bom dia! Seja bem-vindo ao atendimento Unimed Natal. Como posso ajudá-lo hoje?"
    },
    {
      "role": "user",
      "content": "preciso consultar meu contrato na unimed"
    }
  ],
  "max_tokens": 256,
  "temperature": 0.7,
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "unimed_consult",
        "description": "Consulta dados de beneficiário na API Unimed. IMPORTANTE: Só use esta ferramenta quando o usuário fornecer EXPLICITAMENTE tanto o CPF quanto a data de nascimento. Nunca invente esses dados.",
        "parameters": {
          "type": "object",
          "properties": {
            "base_url": {
              "type": "string",
              "description": "URL base da API",
              "default": "https://unimed-central-cobranca.paneas.net/api/v1"
            },
            "cidade": {
              "type": "string",
              "description": "Cidade (ex: Natal_Tasy)",
              "default": "Natal_Tasy"
            },
            "tipo": {
              "type": "string",
              "description": "Tipo de consulta",
              "default": "Contratos"
            },
            "protocolo": {
              "type": "string",
              "description": "Número do protocolo",
              "default": "0"
            },
            "cpf": {
              "type": "string",
              "description": "CPF do beneficiário fornecido explicitamente pelo usuário (apenas números)"
            },
            "data_nascimento": {
              "type": "string",
              "description": "Data de nascimento fornecida explicitamente pelo usuário (formato: AAAAMMDD)"
            }
          },
          "required": ["cpf", "data_nascimento"]
        }
      }
    }
  ],
  "tool_choice": "auto"
}